/**
 * skylark-fluxslider - A version of fluxslider that ported to running on skylarkjs ui.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-fluxslider/
 * @license MIT
 */
define(["skylark-jquery","./flux","./flux.transitions"],function(e,s){s.transitions.bars3d=function(i,t){return new s.transition_grid(i,e.extend({requires3d:!0,columns:7,rows:1,delayBetweenBars:150,perspective:1e3,renderTile:function(i,t,r,n,o,a,d){var p=e('<div class="bar-'+t+'"></div>').css({width:n+"px",height:"100%",position:"absolute",top:"0px",left:"0px","z-index":200,"background-image":this.slider.image1.css("background-image"),"background-position":"-"+a+"px 0px","background-repeat":"no-repeat"}).css3({"backface-visibility":"hidden"}),c=e(p.get(0).cloneNode(!1)).css({"background-image":this.slider.image2.css("background-image")}).css3({transform:s.browser.rotateX(90)+" "+s.browser.translate(0,-o/2,o/2)}),l=e('<div class="side bar-'+t+'"></div>').css({width:o+"px",height:o+"px",position:"absolute",top:"0px",left:"0px",background:"#222","z-index":190}).css3({transform:s.browser.rotateY(90)+" "+s.browser.translate(o/2,0,-o/2)+" "+s.browser.rotateY(180),"backface-visibility":"hidden"}),m=e(l.get(0).cloneNode(!1)).css3({transform:s.browser.rotateY(90)+" "+s.browser.translate(o/2,0,n-o/2)});e(i).css({width:n+"px",height:"100%",position:"absolute",top:"0px",left:a+"px","z-index":t>this.options.columns/2?1e3-t:1e3}).css3({"transition-duration":"800ms","transition-timing-function":"linear","transition-property":"all","transition-delay":t*this.options.delayBetweenBars+"ms","transform-style":"preserve-3d"}).append(p).append(c).append(l).append(m)},execute:function(){this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}).css({"-moz-transform":"perspective("+this.options.perspective+"px)","-moz-perspective":"none","-moz-transform-style":"preserve-3d"});var e=this,i=this.slider.image1.height(),t=this.slider.image1.find("div.tile");this.slider.image2.hide(),t.last().transitionEnd(function(s){e.slider.image1.css3({"transform-style":"flat"}),e.slider.image2.show(),e.finished()}),setTimeout(function(){t.css3({transform:s.browser.rotateX(-90)+" "+s.browser.translate(0,i/2,i/2)})},50)}},t))}});
//# sourceMappingURL=sourcemaps/flux.transitions.bars3d.js.map
