{"version":3,"sources":["flux.transitions.blocks2.js"],"names":["define","$","flux","transitions","blocks2","fluxslider","opts","transition_grid","extend","cols","forceSquare","delayBetweenDiagnols","renderTile","elem","colIndex","rowIndex","colWidth","rowHeight","leftOffset","topOffset","Math","floor","random","this","options","delayBetweenBars","css","background-image","slider","image1","background-position","css3","transition-duration","transition-timing-function","transition-property","transition-delay","backface-visibility","execute","_this","blocks","find","last","transitionEnd","finished","setTimeout","each","index","block","opacity","transform"],"mappings":";;;;;;;AAAAA,QACC,iBACA,SACA,sBACC,SAASC,EAAEC,GACZA,EAAKC,YAAYC,QAAU,SAASC,EAAYC,GAC/C,OAAO,IAAIJ,EAAKK,gBAAgBF,EAAYJ,EAAEO,QAC7CC,KAAM,GACNC,aAAa,EACbC,qBAAsB,IACtBC,WAAY,SAASC,EAAMC,EAAUC,EAAUC,EAAUC,EAAWC,EAAYC,GACnEC,KAAKC,MAAoB,GAAdD,KAAKE,SAAYC,KAAKC,QAAQC,kBAErDxB,EAAEY,GAAMa,KACPC,mBAAoBJ,KAAKK,OAAOC,OAAOH,IAAI,oBAC3CI,sBAAuB,IAAIZ,EAAW,OAAOC,EAAU,OACrDY,MACFC,sBAAuB,QACvBC,6BAA8B,UAC9BC,sBAAuB,MACvBC,oBAAqBrB,EAASC,GAAUQ,KAAKC,QAAQb,qBAAqB,KAC1EyB,sBAAuB,YAGzBC,QAAS,WACR,IAAIC,EAAQf,KAERgB,EAAShB,KAAKK,OAAOC,OAAOW,KAAK,YAGrCD,EAAOE,OAAOC,cAAc,WAC3BJ,EAAMK,aAGPC,WAAW,WACVL,EAAOM,KAAK,SAASC,EAAOC,GAC3B9C,EAAE8C,GAAOrB,KACRsB,QAAW,MACTjB,MACFkB,UAAa,kBAGb,MAEF3C","file":"../flux.transitions.blocks2.js","sourcesContent":["define([\n\t\"skylark-jquery\",\n\t\"./flux\",\n\t\"./flux.transitions\"\n],function($,flux) {\n\tflux.transitions.blocks2 = function(fluxslider, opts) {\n\t\treturn new flux.transition_grid(fluxslider, $.extend({\n\t\t\tcols: 12,\n\t\t\tforceSquare: true,\n\t\t\tdelayBetweenDiagnols: 150,\n\t\t\trenderTile: function(elem, colIndex, rowIndex, colWidth, rowHeight, leftOffset, topOffset) {\n\t\t\t\tvar delay = Math.floor(Math.random()*10*this.options.delayBetweenBars);\n\t\t\t\t\n\t\t\t\t$(elem).css({\n\t\t\t\t\t'background-image': this.slider.image1.css('background-image'),\n\t\t\t\t\t'background-position': '-'+leftOffset+'px -'+topOffset+'px'\n\t\t\t\t}).css3({\n\t\t\t\t\t'transition-duration': '350ms',\n\t\t\t\t\t'transition-timing-function': 'ease-in',\n\t\t\t\t\t'transition-property': 'all',\n\t\t\t\t\t'transition-delay': (colIndex+rowIndex)*this.options.delayBetweenDiagnols+'ms',\n\t\t\t\t\t'backface-visibility': 'hidden' // trigger hardware acceleration\n\t\t\t\t});\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar blocks = this.slider.image1.find('div.tile');\n\t\n\t\t\t\t// Get notified when the last transition has completed\n\t\t\t\tblocks.last().transitionEnd(function(){\n\t\t\t\t\t_this.finished();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tblocks.each(function(index, block){\t\t\t\t\n\t\t\t\t\t\t$(block).css({\n\t\t\t\t\t\t\t'opacity': '0'\n\t\t\t\t\t\t}).css3({\n\t\t\t\t\t\t\t'transform': 'scale(0.8)'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}, 50);\n\t\t\t}\n\t\t}, opts));\n\t};\n});"]}