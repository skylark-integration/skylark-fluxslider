{"version":3,"sources":["flux.transitions.bars.js"],"names":["define","$","flux","transitions","bars","fluxslider","opts","transition_grid","extend","columns","rows","delayBetweenBars","renderTile","elem","colIndex","rowIndex","colWidth","rowHeight","leftOffset","topOffset","css","background-image","this","slider","image1","background-position","css3","transition-duration","transition-timing-function","transition-property","transition-delay","options","execute","_this","height","find","length","transitionEnd","finished","setTimeout","opacity","transform","browser","translate"],"mappings":";;;;;;;AAAAA,QACC,iBACA,SACA,sBACC,SAASC,EAAEC,GACZA,EAAKC,YAAYC,KAAO,SAASC,EAAYC,GAC5C,OAAO,IAAIJ,EAAKK,gBAAgBF,EAAYJ,EAAEO,QAC7CC,QAAS,GACTC,KAAM,EACNC,iBAAkB,GAClBC,WAAY,SAASC,EAAMC,EAAUC,EAAUC,EAAUC,EAAWC,EAAYC,GAC/ElB,EAAEY,GAAMO,KACPC,mBAAoBC,KAAKC,OAAOC,OAAOJ,IAAI,oBAC3CK,sBAAuB,IAAIP,EAAW,WACpCQ,MACFC,sBAAuB,QACvBC,6BAA8B,UAC9BC,sBAAuB,MACvBC,mBAAqBhB,EAASQ,KAAKS,QAAQpB,iBAAkB,QAG/DqB,QAAS,WACR,IAAIC,EAAQX,KAERY,EAASZ,KAAKC,OAAOC,OAAOU,SAE5B9B,EAAOkB,KAAKC,OAAOC,OAAOW,KAAK,YAGnClC,EAAEG,EAAKA,EAAKgC,OAAO,IAAIC,cAAc,WACpCJ,EAAMK,aAGPC,WAAW,WACVnC,EAAKgB,KACJoB,QAAW,QACTd,MACFe,UAAavC,EAAKwC,QAAQC,UAAU,EAAGT,MAEtC,MAGF5B","file":"../flux.transitions.bars.js","sourcesContent":["define([\n\t\"skylark-jquery\",\n\t\"./flux\",\n\t\"./flux.transitions\"\n],function($,flux) {\n\tflux.transitions.bars = function(fluxslider, opts) {\n\t\treturn new flux.transition_grid(fluxslider, $.extend({\n\t\t\tcolumns: 10,\n\t\t\trows: 1,\n\t\t\tdelayBetweenBars: 40,\n\t\t\trenderTile: function(elem, colIndex, rowIndex, colWidth, rowHeight, leftOffset, topOffset) {\n\t\t\t\t$(elem).css({\n\t\t\t\t\t'background-image': this.slider.image1.css('background-image'),\n\t\t\t\t\t'background-position': '-'+leftOffset+'px 0px'\n\t\t\t\t}).css3({\n\t\t\t\t\t'transition-duration': '400ms',\n\t\t\t\t\t'transition-timing-function': 'ease-in',\n\t\t\t\t\t'transition-property': 'all',\n\t\t\t\t\t'transition-delay': (colIndex*this.options.delayBetweenBars)+'ms'\n\t\t\t\t});\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar height = this.slider.image1.height();\n\t\n\t\t\t\tvar bars = this.slider.image1.find('div.tile');\n\t\n\t\t\t\t// Get notified when the last transition has completed\n\t\t\t\t$(bars[bars.length-1]).transitionEnd(function(){\n\t\t\t\t\t_this.finished();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tbars.css({\n\t\t\t\t\t\t'opacity': '0.5'\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\t'transform': flux.browser.translate(0, height)\n\t\t\t\t\t});\n\t\t\t\t}, 50);\n\t\t\t\t\n\t\t\t}\n\t\t}, opts));\n\t};\n});"]}