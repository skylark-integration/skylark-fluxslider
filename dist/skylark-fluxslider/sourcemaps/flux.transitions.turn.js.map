{"version":3,"sources":["flux.transitions.turn.js"],"names":["define","$","flux","transitions","turn","fluxslider","opts","transition","extend","requires3d","perspective","direction","setup","tab","css","width","height","position","top","left","this","options","z-index","css3","transform-style","transition-duration","transition-timing-function","transition-property","transform-origin","current","appendTo","background-image","slider","image1","background-position","-moz-transform","backface-visibility","image2","transform","browser","rotateY","overlay","background","opacity","container","perspective-origin","append","execute","_this","find","first","transitionEnd","finished","setTimeout"],"mappings":";;;;;;;AAAAA,QACC,iBACA,SACA,sBACC,SAASC,EAAEC,GACZA,EAAKC,YAAYC,KAAO,SAASC,EAAYC,GAC5C,OAAO,IAAIJ,EAAKK,WAAWF,EAAYJ,EAAEO,QACxCC,YAAY,EACZC,YAAa,KACbC,UAAW,OACXC,MAAO,WACN,IAAIC,EAAMZ,EAAE,2BAA2Ba,KACrCC,MAAO,MACPC,OAAQ,OACRC,SAAU,WACVC,IAAK,MACLC,KAAgC,QAA1BC,KAAKC,QAAQV,UAAsB,MAAQ,KACjDW,UAAU,MACRC,MACFC,kBAAmB,cACnBC,sBAAuB,SACvBC,6BAA8B,WAC9BC,sBAAuB,MACvBC,mBAA8C,QAA1BR,KAAKC,QAAQV,UAAsB,cAAgB,iBA6BzEkB,GA1BQ5B,EAAE,eAAe6B,SAASjB,GAAKC,KACrCiB,mBAAoBX,KAAKY,OAAOC,OAAOnB,IAAI,oBAC3CoB,uBAAkD,QAA1Bd,KAAKC,QAAQV,UAAsB,IAAKS,KAAKY,OAAOC,OAAOlB,QAAQ,EAAK,GAAG,OACnGA,MAAO,OACPC,OAAQ,OACRC,SAAU,WACVC,IAAK,IACLC,KAAM,IACNgB,iBAAkB,oBAChBZ,MACFa,sBAAuB,WAGlBnC,EAAE,eAAe6B,SAASjB,GAAKC,KACpCiB,mBAAoBX,KAAKY,OAAOK,OAAOvB,IAAI,oBAC3CoB,uBAAkD,QAA1Bd,KAAKC,QAAQV,UAAsB,EAAI,IAAKS,KAAKY,OAAOC,OAAOlB,QAAQ,GAAI,OACnGA,MAAO,OACPC,OAAQ,OACRC,SAAU,WACVC,IAAK,IACLC,KAAM,MACJI,MACFe,UAAWpC,EAAKqC,QAAQC,QAAQ,KAChCJ,sBAAuB,WAGfnC,EAAE,eAAea,KAC1BG,SAAU,WACVC,IAAK,IACLC,KAAgC,QAA1BC,KAAKC,QAAQV,UAAsB,IAAM,MAC/CI,MAAO,MACPC,OAAQ,OACRe,mBAAoBX,KAAKY,OAAOC,OAAOnB,IAAI,oBAC3CoB,uBAAkD,QAA1Bd,KAAKC,QAAQV,UAAsB,EAAI,IAAKS,KAAKY,OAAOC,OAAOlB,QAAQ,GAAI,OACnGO,UAAU,OAGXmB,EAAUxC,EAAE,+BAA+Ba,KAC1CG,SAAU,WACVC,IAAK,IACLC,KAAgC,QAA1BC,KAAKC,QAAQV,UAAsB,MAAQ,IACjDI,MAAO,MACPC,OAAQ,OACR0B,WAAY,OACZC,QAAS,IACPpB,MACFE,sBAAuB,QACvBC,6BAA8B,SAC9BC,sBAAuB,YAGxBiB,EAAY3C,EAAE,eAAesB,MAC5BR,MAAO,OACPC,OAAQ,SACNO,MACFb,YAAeU,KAAKC,QAAQX,YAC5BmC,qBAAsB,YACpBC,OAAOjC,GAAKiC,OAAOjB,GAASiB,OAAOL,GAEtCrB,KAAKY,OAAOC,OAAOa,OAAOF,IAE3BG,QAAS,WACR,IAAIC,EAAQ5B,KAEZA,KAAKY,OAAOC,OAAOgB,KAAK,WAAWC,QAAQC,cAAc,WACxDH,EAAMI,aAGPC,WAAW,WACVL,EAAMhB,OAAOC,OAAOgB,KAAK,WAAW1B,MAEnCe,UAAWpC,EAAKqC,QAAQC,QAAmC,QAA3BQ,EAAM3B,QAAQV,WAAuB,IAAM,OAE5EqC,EAAMhB,OAAOC,OAAOgB,KAAK,eAAenC,KACvC6B,QAAS,KAER,MAEFrC","file":"../flux.transitions.turn.js","sourcesContent":["define([\n\t\"skylark-jquery\",\n\t\"./flux\",\n\t\"./flux.transitions\"\n],function($,flux) {\n\tflux.transitions.turn = function(fluxslider, opts) {\n\t\treturn new flux.transition(fluxslider, $.extend({\n\t\t\trequires3d: true,\n\t\t\tperspective: 1300,\n\t\t\tdirection: 'left',\n\t\t\tsetup: function() {\t\t\t\t\n\t\t\t\tvar tab = $('<div class=\"tab\"></div>').css({\n\t\t\t\t\t\twidth: '50%',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: '0px',\n\t\t\t\t\t\tleft: this.options.direction == 'left' ? '50%' : '0%',\n\t\t\t\t\t\t'z-index':101\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\t'transform-style': 'preserve-3d',\n\t\t\t\t\t\t'transition-duration': '1000ms',\n\t\t\t\t\t\t'transition-timing-function': 'ease-out',\n\t\t\t\t\t\t'transition-property': 'all',\n\t\t\t\t\t\t'transform-origin': this.options.direction == 'left' ? 'left center' : 'right center'\n\t\t\t\t\t}),\n\n\t\t\t\tfront = $('<div></div>').appendTo(tab).css({\n\t\t\t\t\t\t'background-image': this.slider.image1.css('background-image'),\n\t\t\t\t\t\t'background-position': (this.options.direction == 'left' ? '-'+(this.slider.image1.width()/2) : 0)+'px 0',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: '0',\n\t\t\t\t\t\tleft: '0',\n\t\t\t\t\t\t'-moz-transform': 'translateZ(1px)'\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\t'backface-visibility': 'hidden'\n\t\t\t\t\t}),\n\n\t\t\t\tback = $('<div></div>').appendTo(tab).css({\n\t\t\t\t\t\t'background-image': this.slider.image2.css('background-image'),\n\t\t\t\t\t\t'background-position': (this.options.direction == 'left' ? 0 : '-'+(this.slider.image1.width()/2))+'px 0',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\ttop: '0',\n\t\t\t\t\t\tleft: '0'\n\t\t\t\t\t}).css3({\n\t\t\t\t\t\ttransform: flux.browser.rotateY(180),\n\t\t\t\t\t\t'backface-visibility': 'hidden'\n\t\t\t\t\t}),\n\n\t\t\t\tcurrent = $('<div></div>').css({\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: '0',\n\t\t\t\t\tleft: this.options.direction == 'left' ? '0' : '50%',\n\t\t\t\t\twidth: '50%',\n\t\t\t\t\theight: '100%',\n\t\t\t\t\t'background-image': this.slider.image1.css('background-image'),\n\t\t\t\t\t'background-position': (this.options.direction == 'left' ? 0 : '-'+(this.slider.image1.width()/2))+'px 0',\n\t\t\t\t\t'z-index':100\n\t\t\t\t}),\n\n\t\t\t\toverlay = $('<div class=\"overlay\"></div>').css({\n\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\ttop: '0',\n\t\t\t\t\tleft: this.options.direction == 'left' ? '50%' : '0',\n\t\t\t\t\twidth: '50%',\n\t\t\t\t\theight: '100%',\n\t\t\t\t\tbackground: '#000',\n\t\t\t\t\topacity: 1\n\t\t\t\t}).css3({\n\t\t\t\t\t'transition-duration': '800ms',\n\t\t\t\t\t'transition-timing-function': 'linear',\n\t\t\t\t\t'transition-property': 'opacity'\n\t\t\t\t}),\n\n\t\t\t\tcontainer = $('<div></div>').css3({\n\t\t\t\t\twidth: '100%',\n\t\t\t\t\theight: '100%'\n\t\t\t\t}).css3({\n\t\t\t\t\t'perspective': this.options.perspective,\n\t\t\t\t\t'perspective-origin': '50% 50%'\n\t\t\t\t}).append(tab).append(current).append(overlay);\n\n\t\t\t\tthis.slider.image1.append(container);\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tvar _this = this;\n\n\t\t\t\tthis.slider.image1.find('div.tab').first().transitionEnd(function(){\n\t\t\t\t\t_this.finished();\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t_this.slider.image1.find('div.tab').css3({\n\t\t\t\t\t\t// 179 not 180 so that the tab rotates the correct way in Firefox\n\t\t\t\t\t\ttransform: flux.browser.rotateY(_this.options.direction == 'left' ? -179 : 179)\n\t\t\t\t\t});\n\t\t\t\t\t_this.slider.image1.find('div.overlay').css({\n\t\t\t\t\t\topacity: 0\n\t\t\t\t\t});\n\t\t\t\t}, 50);\n\t\t\t}\n\t\t}, opts));\n\t};\n});"]}