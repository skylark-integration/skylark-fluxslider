{"version":3,"sources":["flux.transitions.blocks.js"],"names":["define","$","flux","transitions","blocks","fluxslider","opts","transition_grid","extend","forceSquare","delayBetweenBars","renderTile","elem","colIndex","rowIndex","colWidth","rowHeight","leftOffset","topOffset","delay","Math","floor","random","this","options","css","background-image","slider","image1","background-position","css3","transition-duration","transition-timing-function","transition-property","transition-delay","undefined","maxDelay","maxDelayTile","execute","_this","find","transitionEnd","finished","setTimeout","each","index","block","opacity","transform"],"mappings":";;;;;;;AAAAA,QACC,iBACA,SACA,sBACC,SAASC,EAAEC,GACZA,EAAKC,YAAYC,OAAS,SAASC,EAAYC,GAC9C,OAAO,IAAIJ,EAAKK,gBAAgBF,EAAYJ,EAAEO,QAC7CC,aAAa,EACbC,iBAAkB,IAClBC,WAAY,SAASC,EAAMC,EAAUC,EAAUC,EAAUC,EAAWC,EAAYC,GAC/E,IAAIC,EAAQC,KAAKC,MAAoB,GAAdD,KAAKE,SAAYC,KAAKC,QAAQd,kBAErDT,EAAEW,GAAMa,KACPC,mBAAoBH,KAAKI,OAAOC,OAAOH,IAAI,oBAC3CI,sBAAuB,IAAIZ,EAAW,OAAOC,EAAU,OACrDY,MACFC,sBAAuB,QACvBC,6BAA8B,UAC9BC,sBAAuB,MACvBC,mBAAoBf,EAAM,YAINgB,IAAlBZ,KAAKa,WACPb,KAAKa,SAAW,GAEdjB,EAAQI,KAAKa,WAEfb,KAAKa,SAAWjB,EAChBI,KAAKc,aAAezB,IAGtB0B,QAAS,WACR,IAAIC,EAAQhB,KAERnB,EAASmB,KAAKI,OAAOC,OAAOY,KAAK,YAGrCjB,KAAKc,aAAaI,cAAc,WAC/BF,EAAMG,aAGPC,WAAW,WACVvC,EAAOwC,KAAK,SAASC,EAAOC,GAC3B7C,EAAE6C,GAAOrB,KACRsB,QAAW,MACTjB,MACFkB,UAAa,kBAGb,MAEF1C","file":"../flux.transitions.blocks.js","sourcesContent":["define([\n\t\"skylark-jquery\",\n\t\"./flux\",\n\t\"./flux.transitions\"\n],function($,flux) {\n\tflux.transitions.blocks = function(fluxslider, opts) {\n\t\treturn new flux.transition_grid(fluxslider, $.extend({\n\t\t\tforceSquare: true,\n\t\t\tdelayBetweenBars: 100,\n\t\t\trenderTile: function(elem, colIndex, rowIndex, colWidth, rowHeight, leftOffset, topOffset) {\n\t\t\t\tvar delay = Math.floor(Math.random()*10*this.options.delayBetweenBars);\n\t\t\t\t\n\t\t\t\t$(elem).css({\n\t\t\t\t\t'background-image': this.slider.image1.css('background-image'),\n\t\t\t\t\t'background-position': '-'+leftOffset+'px -'+topOffset+'px'\n\t\t\t\t}).css3({\n\t\t\t\t\t'transition-duration': '350ms',\n\t\t\t\t\t'transition-timing-function': 'ease-in',\n\t\t\t\t\t'transition-property': 'all',\n\t\t\t\t\t'transition-delay': delay+'ms'\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// Keep track of the last elem to fire\n\t\t\t\tif(this.maxDelay === undefined)\n\t\t\t\t\tthis.maxDelay = 0;\n\t\t\t\t\t\n\t\t\t\tif(delay > this.maxDelay)\n\t\t\t\t{\n\t\t\t\t\tthis.maxDelay = delay;\n\t\t\t\t\tthis.maxDelayTile = elem;\n\t\t\t\t}\n\t\t\t},\n\t\t\texecute: function() {\n\t\t\t\tvar _this = this;\n\t\n\t\t\t\tvar blocks = this.slider.image1.find('div.tile');\n\t\n\t\t\t\t// Get notified when the last transition has completed\n\t\t\t\tthis.maxDelayTile.transitionEnd(function(){\n\t\t\t\t\t_this.finished();\n\t\t\t\t});\n\t\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tblocks.each(function(index, block){\t\t\t\t\n\t\t\t\t\t\t$(block).css({\n\t\t\t\t\t\t\t'opacity': '0'\n\t\t\t\t\t\t}).css3({\n\t\t\t\t\t\t\t'transform': 'scale(0.8)'\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t}, 50);\n\t\t\t}\n\t\t}, opts));\n\t};\n});"]}